{"version":3,"sources":["Constants.js","Util.js","components/Axis.js","components/BarChart.js","components/LineChart.js","components/PieChart.js","App.js","serviceWorker.js","index.js"],"names":["Colors","selected","plain","path","barChartData","date","value","rand","min","max","randomNumber","Math","random","floor","generateLineData","data","x","y","times","i","prev","push","AxisOrientation","Axis","_PureComponent","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","axisRef","createRef","inherits","createClass","key","updateAxis","axis","select","current","props","orientation","rotateText","selectAll","style","attr","_this$props","react_default","a","createElement","ref","transform","undefined","axisTop","axisBottom","axisLeft","axisRight","nextProps","scale","tickFormat","tFormat","d","getAxis","d3Axis","PureComponent","margins","BarChart","bars","hoveredBar","xScale","scaleBand","yScale","scaleLinear","hoverBar","index","forEach","setState","_this2","width","height","_this$state","map","onMouseOver","onMouseOut","fill","Axis_Axis","timeFormat","prevState","timeDomain","tempMax","rangeRound","padding","domain","range","y1","y2","bandwidth","LineChart","lines","circles","lineGenerator","line","_this$state2","react","strokeWidth","stroke","dot","cx","cy","r","renderAxis","renderData","multi","curve","showDataPoints","dataToShow","flatten","xExtent","extent","yExtent","curveMonotoneX","circle","PieChart","arcGenerator","arc","pieGenerator","pie","slices","slice","colors","arcWidth","outerRadius","innerRadius","sort","App","className","role","BarChart_BarChart","LineChart_LineChart","PieChart_PieChart","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ff21ac7b.chunk.js","sourcesContent":["\nexport const Colors = {\n  selected: '#018786',\n  plain: '#03DAC6',\n  path: ['#03DAC6', '#90ee02', '#df55f2', '#ff9e22'],\n};\n\nexport const barChartData = [\n  {date: '2013-01', value: 53},\n  {date: '2013-02', value: 165},\n  {date: '2013-03', value: 269},\n  {date: '2013-04', value: 344},\n  {date: '2013-05', value: 376},\n  {date: '2013-06', value: 410},\n  {date: '2013-07', value: 421},\n  {date: '2013-08', value: 405},\n  {date: '2013-09', value: 376},\n  {date: '2013-10', value: 359},\n  {date: '2013-11', value: 392},\n  {date: '2013-12', value: 433},\n];\n","import {times} from \"lodash\";\n\nexport function rand(min, max) {\n  const randomNumber = Math.random() * (max - min) + min;\n  return Math.floor(randomNumber);\n}\n\nexport function shuffle(a) {\n  for (let i = a.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [a[i], a[j]] = [a[j], a[i]];\n  }\n  return a;\n}\n\nexport function generateLineData() {\n  const data = [\n    {\n      x: rand(60, 100),\n      y: rand(100, 120),\n    },\n  ];\n\n  times(10, i => {\n    const prev = data[i];\n\n    data.push({\n      x: prev.x + 10,\n      y: rand(100, 120),\n    });\n  });\n\n  return data;\n}\n","import React, {PureComponent, createRef} from 'react';\nimport {select} from 'd3-selection';\nimport {axisLeft, axisBottom, axisRight, axisTop} from 'd3-axis';\n\nexport const AxisOrientation = {\n  TOP: 'TOP',\n  LEFT: 'LEFT',\n  BOTTOM: 'BOTTOM',\n  RIGHT: 'RIGHT',\n};\n\nexport class Axis extends PureComponent {\n  state = {};\n\n  axisRef = createRef();\n\n  static getAxis(orientation = AxisOrientation.LEFT) {\n    switch (orientation) {\n      case AxisOrientation.TOP:\n        return axisTop;\n      case AxisOrientation.BOTTOM:\n        return axisBottom;\n      case AxisOrientation.LEFT:\n        return axisLeft;\n      case AxisOrientation.RIGHT:\n        return axisRight;\n      default:\n        return axisLeft;\n    }\n  }\n\n  static getDerivedStateFromProps(nextProps) {\n    const {orientation, scale, tickFormat} = nextProps;\n    const d3Axis = Axis.getAxis(orientation);\n\n    const tFormat = tickFormat ? tickFormat : (d) => d;\n\n    const axis = d3Axis()\n      .scale(scale)\n      .tickFormat(tFormat);\n\n    return {\n      axis,\n    }\n  }\n\n  componentDidMount() {\n    this.updateAxis();\n  }\n\n  componentDidUpdate() {\n    this.updateAxis();\n  }\n\n  updateAxis() {\n    const axis = select(this.axisRef.current)\n      .call(this.state.axis);\n\n    if (this.props.orientation === AxisOrientation.BOTTOM && this.props.rotateText) {\n      axis.selectAll('text')\n        .style('text-anchor', 'end')\n        .attr('dx', '-1em')\n        .attr('dy', '-.2em')\n        .attr('transform', 'rotate(-65)');\n    }\n  }\n\n  render() {\n    const {x, y} = this.props;\n\n    return (\n      <g ref={this.axisRef} transform={`translate(${x}, ${y})`}/>\n    );\n  }\n}\n","import React, {PureComponent} from 'react';\nimport {scaleLinear, scaleBand} from 'd3-scale';\nimport {max} from 'd3-array';\nimport {Axis, AxisOrientation} from './Axis';\nimport {timeFormat} from 'd3-time-format';\nimport {Colors} from '../Constants';\n\nconst margins = {\n  top: 60,\n  left: 60,\n  right: 60,\n  bottom: 60,\n};\n\nexport class BarChart extends PureComponent {\n\n  state = {\n    bars: [], // array of rects\n    hoveredBar: null,\n\n    // d3 helpers\n    xScale: scaleBand(),\n    yScale: scaleLinear(),\n  };\n\n\n  hoverBar = (index, select) => {\n    let hoveredBar = null;\n    if (select) {\n      this.state.bars.forEach((d, i) => {\n        if (i === index) {\n          hoveredBar = i;\n        }\n      });\n    }\n\n    this.setState({\n      hoveredBar,\n    });\n  };\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (!nextProps.data) return null; // data hasn't been loaded yet so do nothing\n\n    const {data, width, height} = nextProps;\n    const {xScale, yScale} = prevState;\n\n    // data has changed, so recalculate scale domains\n    const timeDomain = data.map(d => d.date);\n    const tempMax = max(data, d => d.value);\n\n    xScale\n      .rangeRound([margins.left, width - margins.right])\n      .padding(.1)\n      .domain(timeDomain);\n\n    yScale\n      .range([height - margins.bottom, margins.top])\n      .domain([0, tempMax]);\n\n    // calculate x and y for each rectangle\n    const bars = data.map(d => {\n      const y1 = yScale(d.value);\n      const y2 = yScale(0);\n\n      return {\n        x: xScale(d.date),\n        y: y1,\n        height: y2 - y1,\n        width: xScale.bandwidth(),\n        fill: Colors.plain,\n      }\n    });\n\n    return {\n      bars,\n    };\n  }\n\n  render() {\n    const {width, height} = this.props;\n    const {hoveredBar, bars, xScale, yScale} = this.state;\n\n    return (\n      <svg width={width} height={height}>\n        {bars.map((d, i) =>\n          (\n            <rect\n              onMouseOver={() => this.hoverBar(i, true)}\n              onMouseOut={() => this.hoverBar(i, false)}\n              key={i}\n              x={d.x}\n              y={d.y}\n              width={d.width}\n              height={d.height}\n              fill={hoveredBar === i ? Colors.selected : d.fill}\n            />\n          )\n        )}\n        <g>\n          <Axis\n            timeFormat={timeFormat('%b')}\n            scale={xScale}\n            orientation={AxisOrientation.BOTTOM}\n            rotateText\n            x={0}\n            y={height - margins.bottom}\n          />\n          <Axis\n            timeFormat={(d) => `${d}`}\n            scale={yScale}\n            orientation={AxisOrientation.LEFT}\n            x={margins.left}\n            y={0}\n          />\n        </g>\n      </svg>\n    );\n  }\n\n}\n\n","import React, {PureComponent, Fragment} from 'react';\nimport {flatten} from 'lodash';\nimport {scaleLinear} from 'd3-scale';\nimport {line, curveMonotoneX} from 'd3-shape';\nimport {extent} from 'd3-array';\nimport {Axis, AxisOrientation} from './Axis';\nimport {Colors} from '../Constants';\n\nconst margins = {\n  left: 60,\n  right: 60,\n  top: 60,\n  bottom: 60,\n};\n\nconst CIRCLE_RADIUS = 5;\n\nexport class LineChart extends PureComponent {\n  state = {\n    lines: [], // actually line path\n    circles: [], // highlight data points on line\n\n    // d3 helpers\n    xScale: scaleLinear(),\n    yScale: scaleLinear(),\n    lineGenerator: line(),\n  };\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {data, width, height, multi, curve, showDataPoints} = nextProps;\n    const {xScale, yScale, lineGenerator} = prevState;\n\n    const dataToShow = multi ? flatten(data) : data;\n\n    const xExtent = extent(dataToShow, d => d.x);\n    const yExtent = extent(dataToShow, d => d.y);\n\n    const xOffset = 0.98;\n    const yOffset = 1.02;\n\n    xScale\n      .range([0, width - margins.right - margins.left])\n      .domain([xExtent[0] * xOffset, xExtent[1] * yOffset]);\n\n    yScale\n      .range([height - margins.bottom - margins.top, 0])\n      .domain([yExtent[0] * xOffset, yExtent[1] * yOffset]);\n\n    lineGenerator.x(d => {\n      return xScale(d.x);\n    });\n\n    lineGenerator.y(d => {\n      return yScale(d.y);\n    });\n\n    if (curve) {\n      lineGenerator.curve(curveMonotoneX)\n    }\n\n    const dataToGenerate = multi ? data : [data];\n    const lines = [];\n    const circles = [];\n\n    dataToGenerate.forEach((line, index) => {\n      const fill = Colors.path[index];\n\n      lines.push({\n        path: lineGenerator(line),\n        fill: fill,\n      });\n\n      if (showDataPoints) {\n        line.forEach((d) => {\n          const circle = {\n            x: xScale(d.x),\n            y: yScale(d.y),\n            fill: fill,\n          };\n          circles.push(circle);\n        });\n      }\n\n    });\n\n    return {\n      lines,\n      circles,\n    };\n  }\n\n  renderAxis() {\n    const {height} = this.props;\n    const {xScale, yScale} = this.state;\n\n    return (\n      <g>\n        <Axis\n          scale={xScale}\n          orientation={AxisOrientation.BOTTOM}\n          x={0}\n          y={height - margins.bottom - margins.top}\n        />\n        <Axis\n          scale={yScale}\n          orientation={AxisOrientation.LEFT}\n          x={0}\n          y={0}\n        />\n      </g>\n    )\n  }\n\n  renderData() {\n    const {lines, circles} = this.state;\n\n    return (\n      <Fragment>\n        {lines.map((line, i) => {\n          return (\n            <path\n              key={i}\n              d={line.path}\n              strokeWidth={2}\n              fill={'none'}\n              stroke={line.fill} />\n          );\n        })}\n\n        {circles.map((dot, i) => {\n          return (\n            <circle\n              key={i}\n              cx={dot.x}\n              cy={dot.y}\n              fill={dot.fill}\n              stroke={'#fff'}\n              r={CIRCLE_RADIUS}\n            />\n          );\n        })}\n      </Fragment>\n    )\n  }\n\n  render() {\n    const {width, height} = this.props;\n\n    return (\n      <svg width={width} height={height}>\n        <g transform={`translate(${margins.left}, ${margins.top})`}>\n          {this.renderAxis()}\n          {this.renderData()}\n        </g>\n      </svg>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { arc, pie } from 'd3-shape';\n\n\nexport class PieChart extends PureComponent {\n  state = {\n    arcGenerator: arc(),\n    pieGenerator: pie(),\n    slices: [],\n  };\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { data, colors, width, arcWidth } = nextProps;\n    const { arcGenerator, pieGenerator } = prevState;\n\n    const outerRadius = width / 2;\n    const innerRadius = outerRadius - arcWidth;\n\n    pieGenerator.value((d) => d).sort(null);\n\n    arcGenerator.innerRadius(innerRadius).outerRadius(outerRadius);\n\n    const slices = pieGenerator(data).map((value, i) => {\n      const slice = {\n        path: arcGenerator(value),\n        fill: colors[i],\n      };\n\n      return slice;\n    });\n\n    return {\n      slices,\n    };\n  }\n\n  render() {\n    const { width, height  } = this.props;\n    const { slices } = this.state;\n\n    return (\n      <svg height={height} width={width}>\n        <g transform={`translate(${width / 2}, ${height / 2})`}>\n          {slices.map((slice, i) => {\n            return <path key={i} d={slice.path} fill={slice.fill} />;\n          })}\n        </g>\n      </svg>\n    );\n  }\n}\n","import React, {PureComponent} from 'react';\nimport './App.css';\n\nimport {Colors, barChartData} from \"./Constants\";\nimport {generateLineData} from './Util';\n\nimport {BarChart} from './components/BarChart';\nimport {LineChart} from './components/LineChart';\nimport {PieChart} from './components/PieChart';\n\nclass App extends PureComponent {\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h1>React <span role={'img'}>❤</span>️ D3</h1>\n        </header>\n        <div className=\"charts-container\">\n          <BarChart\n            width={400}\n            height={500}\n            data={barChartData}\n          />\n          <LineChart\n            width={400}\n            height={500}\n            multi\n            data={\n              [\n                generateLineData(),\n                generateLineData(),\n                generateLineData()\n              ]\n            }\n          />\n          <LineChart\n            width={400}\n            height={500}\n            showDataPoints\n            multi\n            data={\n              [\n                generateLineData(),\n                generateLineData()\n              ]\n            }\n          />\n          <LineChart\n            width={400}\n            height={500}\n            showDataPoints\n            multi\n            curve\n            data={\n              [\n                generateLineData()\n              ]\n            }\n          />\n          <PieChart\n            width={200}\n            height={200}\n            data={[20, 10, 50, 70, 30]}\n            colors={Colors.path}\n            arcWidth={30}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}